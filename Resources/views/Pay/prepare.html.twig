<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Tableau</title>
        <style type="text/css">

            body, html  { height: 100%; }
            html, body, div, span, applet, object, iframe,
            /*h1, h2, h3, h4, h5, h6,*/ p, blockquote, pre,
            a, abbr, acronym, address, big, cite, code,
            del, dfn, em, font, img, ins, kbd, q, s, samp,
            small, strike, strong, sub, sup, tt, var,
            b, u, i, center,
            dl, dt, dd, ol, ul, li,
            fieldset, form, label, legend,
            table, caption, tbody, tfoot, thead, tr, th, td {
                margin: 0;
                padding: 0;
                border: 0;
                outline: 0;
                font-size: 100%;
                vertical-align: baseline;
                background: transparent;
            }
            body { line-height: 1; }
            ol, ul { list-style: none; }
            blockquote, q { quotes: none; }
            blockquote:before, blockquote:after, q:before, q:after { content: ''; content: none; }
            :focus { outline: 0; }
            del { text-decoration: line-through; }
            table {border-spacing: 0; } /* IMPORTANT, I REMOVED border-collapse: collapse; FROM THIS LINE IN ORDER TO MAKE THE OUTER BORDER RADIUS WORK */

            /*------------------------------------------------------------------ */

            /*This is not important*/
            body{
                font-family:Arial, Helvetica, sans-serif;
                background: url(background.jpg);
                margin:0 auto;
                width:840px;
            }
            a:link {
                color: #666;
                font-weight: bold;
                text-decoration:none;
            }
            a:visited {
                color: #666;
                font-weight:bold;
                text-decoration:none;
            }
            a:active,
            a:hover {
                color: #bd5a35;
                text-decoration:underline;
            }


            /*
            Table Style - This is what you want
            ------------------------------------------------------------------ */
            table a:link {
                color: #666;
                font-weight: bold;
                text-decoration:none;
            }
            table a:visited {
                color: #999999;
                font-weight:bold;
                text-decoration:none;
            }
            table a:active,
            table a:hover {
                color: #bd5a35;
                text-decoration:underline;
            }
            table {
                width:100%;
                font-family:Arial, Helvetica, sans-serif;
                color:#666;
                font-size:12px;
                text-shadow: 1px 1px 0px #fff;
                background:#eaebec;
                margin:20px;
                border:#ccc 1px solid;

                -moz-border-radius:3px;
                -webkit-border-radius:3px;
                border-radius:3px;

                -moz-box-shadow: 0 1px 2px #d1d1d1;
                -webkit-box-shadow: 0 1px 2px #d1d1d1;
                box-shadow: 0 1px 2px #d1d1d1;
            }
            table th {
                padding:21px 25px 22px 25px;
                border-top:1px solid #fafafa;
                border-bottom:1px solid #e0e0e0;

                background: #ededed;
                background: -webkit-gradient(linear, left top, left bottom, from(#ededed), to(#ebebeb));
                background: -moz-linear-gradient(top,  #ededed,  #ebebeb);
            }
            table th:first-child {
                text-align: left;
                padding-left:20px;
            }
            table tr:first-child th:first-child {
                -moz-border-radius-topleft:3px;
                -webkit-border-top-left-radius:3px;
                border-top-left-radius:3px;
            }
            table tr:first-child th:last-child {
                -moz-border-radius-topright:3px;
                -webkit-border-top-right-radius:3px;
                border-top-right-radius:3px;
            }
            table tr {
                text-align: center;
                padding-left:20px;
            }
            table td:first-child {
                text-align: left;
                padding-left:20px;
                border-left: 0;
            }
            table td {
                vertical-align: middle;
                padding:18px;
                border-top: 1px solid #ffffff;
                border-bottom:1px solid #e0e0e0;
                border-left: 1px solid #e0e0e0;

                background: #fafafa;
                background: -webkit-gradient(linear, left top, left bottom, from(#fbfbfb), to(#fafafa));
                background: -moz-linear-gradient(top,  #fbfbfb,  #fafafa);
            }
            table tr.even td {
                background: #f6f6f6;
                background: -webkit-gradient(linear, left top, left bottom, from(#f8f8f8), to(#f6f6f6));
                background: -moz-linear-gradient(top,  #f8f8f8,  #f6f6f6);
            }
            table tr:last-child td {
                border-bottom:0;
            }
            table tr:last-child td:first-child {
                -moz-border-radius-bottomleft:3px;
                -webkit-border-bottom-left-radius:3px;
                border-bottom-left-radius:3px;
            }
            table tr:last-child td:last-child {
                -moz-border-radius-bottomright:3px;
                -webkit-border-bottom-right-radius:3px;
                border-bottom-right-radius:3px;
            }
            table tr:hover td {
                background: #f2f2f2;
                background: -webkit-gradient(linear, left top, left bottom, from(#f2f2f2), to(#f0f0f0));
                background: -moz-linear-gradient(top,  #f2f2f2,  #f0f0f0);	
            }

        </style>
    </head>
    <body>

        <div id="country" style="margin:auto;text-align: center;">
            {% for country in countries|keys %}
                <img id="{{country}}" src="{{ asset('bundles/sinencoallopasspayment/images/flags/'~country~'.png') }}" 
                     style="width:80px;margin:16px;" >
            {% endfor %}
        </div>

        {% for country in countries|keys %}
            <div id="{{ country }}_type" style="margin:auto;text-align: center;">

                {% for type in countries[country]|keys %}
                    <img id="{{country}}_{{type}}" src="{{ asset('bundles/sinencoallopasspayment/images/types/'~type~'.png') }}" 
                         style="width:80px;margin:16px;" >
                {% endfor %}
            </div>
        {% endfor %}


        {% for country in countries|keys %}
            {% for type in countries[country]|keys %}
                <div id="{{country}}_{{type}}_prices" style="margin:auto;text-align: center;">
                    <table>
                        <thead>
                            <tr>
                                <th>Country</th>
                                <th>Type</th>
                                <th>Price</th>
                                <th>Payout</th>
                                <th></th>
                            </tr>
                        </thead>

                        <tbody>
                            {% for price in countries[country][type] %}

                                <tr>
                                    <td><img id="{{country}}" src="{{ asset('bundles/sinencoallopasspayment/images/flags/'~country~'.png') }}" 
                                             style="width:64px;" ></td>
                                    <td><img id="{{country}}_{{type}}" src="{{ asset('bundles/sinencoallopasspayment/images/types/'~type~'.png') }}" 
                                             style="width:64px;" ></td>
                                    <td>{{ price.priceAmount }} {{ price.priceCurrency }}</td>
                                    <td>{{ price.payoutAmount }} {{ price.payoutCurrency }}</td>
                                    <td><a href="{{path("sinenco_allopass_payment_pay", {'id':price.priceId,'data':data })}}">Choose</a></td>
                                </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            {% endfor %}
        {% endfor %}


        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
        <script>
            $(function () {

            {% for country in countries|keys %}

                    $('#{{country}}_type').hide();
                    $('#{{country}}').click(function () {
                        $('#country').hide(1000);
                        $('#{{country}}_type').show('slow');
                    });
                {% for type in countries[country]|keys %}

                        $('#{{country}}_{{type}}_prices').hide();
                        $('#{{country}}_{{type}}').click(function () {
                            $('#{{country}}_type').hide(1000);
                            $('#{{country}}_{{type}}_prices').show('slow');
                        });
                {% endfor %}

            {% endfor %}
                });
        </script>
    </body>
</html>
